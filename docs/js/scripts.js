document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector(".animate")){const y=document.querySelectorAll(".animate"),f=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const t=e.target.dataset.delay||0;setTimeout((()=>{e.target.classList.add("show")}),t),f.unobserve(e.target)}}))}),{threshold:.5});y.forEach((e=>{if(e.getBoundingClientRect().top<window.innerHeight){const t=e.dataset.delay||0;setTimeout((()=>{e.classList.add("show")}),t)}else f.observe(e)}))}if(document.querySelector(".stats")){const m=document.querySelectorAll(".counter"),h=100,v=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target,o=()=>{const e=+n.getAttribute("data-target"),t=+n.innerText.replace(/\D/g,""),c=Math.ceil(e/h);t<e?(n.innerText=t+c>e?e:t+c,setTimeout(o,50)):n.innerText=e};o(),t.unobserve(n)}}))}),{threshold:.5});m.forEach((e=>{v.observe(e)}))}const e=document.querySelector(".dark-bgc");if(document.querySelector(".burger")){const p=document.querySelector(".burger"),E=document.querySelector(".nav"),g=document.querySelector(".cancel"),b=E.querySelectorAll("a");function t(){E.style.right="-100%",e.style.zIndex="6",e.style.display="none"}p.addEventListener("click",(function(){E.style.right="-10px",e.style.display="block",e.style.zIndex="4"})),b.forEach((e=>{e.addEventListener("click",t)})),g.addEventListener("click",(function(e){e.preventDefault(),t()})),e.addEventListener("click",t)}if(document.querySelector("video")){const L=document.querySelectorAll("video");setTimeout((()=>{L.forEach((e=>{e.style.opacity="1",e.play().catch((e=>console.log("Autoplay blocked:",e)))}))}),1e3)}const n=document.querySelectorAll(".switch_btn"),o=document.querySelectorAll(".switch_block"),c=document.querySelectorAll(".connect_cta"),l=document.querySelector(".popup"),r=document.querySelector(".cancel_popup");if(c.forEach((t=>{t.addEventListener("click",(()=>{l.style.display="block",e.style.display="block"}))})),r.addEventListener("click",(()=>{l.style.display="none",e.style.display="none"})),e.addEventListener("click",(()=>{l.style.display="none",e.style.display="none"})),n.forEach((e=>{e.addEventListener("click",(()=>{n.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),o.forEach((e=>e.classList.remove("active")));const t=e.dataset.target;document.getElementById(t).classList.add("active")}))})),document.querySelector("#show-more-btn")){let S=6,q=0;const k=Array.from(document.querySelectorAll(".news_cards figure.page_news"));k.forEach(((e,t)=>{t>=S&&(e.style.display="none")})),q=S,document.querySelector("#show-more-btn").addEventListener("click",(function(e){e.preventDefault(),k.slice(q,q+S).forEach((e=>{e.style.display="block"})),q+=S,q>=k.length&&(document.querySelector("#show-more-btn").style.display="none")}))}const s=document.querySelectorAll(".phoneInput"),i=document.querySelectorAll(".error-tel");function a(e){return/^\+?(\d{2})?([(]?\d{3}[)]?)\s?[-]?\s?(?:\d{3})\s?[-]?(?:\s?\d{2})\s?[-]?(?:\s?\d{2})$/.test(e)}s.forEach((e=>{e.addEventListener("input",(function(){let t=e.value.trim();const n="+380";t.startsWith(n)||(t=n+t);let o=t.replace(/[^\d+]/g,"");o.length>13&&(o=o.slice(0,13));a(o)&&13===o.length?(e.style.borderColor="green",e.style.color="#121212",i.forEach((e=>{e.innerText=""}))):(e.style.borderColor="#B80101",e.style.color="#B80101",i.forEach((e=>{e.innerText="Введіть коректний номер телефону"})))}))})),document.querySelectorAll("form[action='sendorder.php'], form[action='senddata.php'], form[action='sendcontact.php']").forEach((e=>{e.addEventListener("submit",(t=>{(function(e){const t=e.querySelector("input[name='userPhone']").value.trim();if(!t||!a(t)||t.length<13)return i.forEach((e=>{e.innerText="невірний формат"})),!1;const n=e.querySelectorAll("input[name='userName']");for(const e of n){const t=e.value.trim();if(t.length<3)return!1;if(t.length>30)return!1}return!0})(e)||(t.preventDefault(),console.log("+"))}))}));document.querySelectorAll(".inputMask").forEach((function(e){e.addEventListener("click",(function(){e.value||(e.value="+380")})),e.addEventListener("input",(function(){let t=e.value.replace(/[^\d+]/g,"");e.value=t,t.length>13&&(e.value=t.slice(0,13)),t.startsWith("+380")||(e.value="+380"+t.slice(3))}))}));if(function(e,t,n){e.forEach((e=>{e.addEventListener("click",(function(o){o.preventDefault();e.nextElementSibling.classList.toggle(t),e.classList.toggle(n)}))}))}(document.querySelectorAll(".readmore"),"visible","readmore-active"),document.querySelector(".slider_block_main .slider")){const A=document.querySelector(".slide_group"),w=document.querySelectorAll(".slide_main"),x=document.querySelector(".slide_buttons"),_=document.querySelector(".next"),T=document.querySelector(".prev"),D=document.querySelector(".slider_container");let I=0;const M=w.length;function d(){A.style.transform=`translateX(-${D.offsetWidth*I}px)`,x.querySelectorAll(".slide_button").forEach(((e,t)=>{e.classList.toggle("active",t===I)})),function(){const e=w[I].querySelector("img");if(!e)return;function t(e){e.naturalWidth,e.naturalHeight}D.offsetWidth,e.complete?t(e):e.addEventListener("load",(()=>t(e)))}(),0===I?(T.classList.add("disabled"),T.disabled=!0):(T.classList.remove("disabled"),T.disabled=!1),I===M-1?(_.classList.add("disabled"),_.disabled=!0):(_.classList.remove("disabled"),_.disabled=!1)}w.length<=1?(_.style.display="none",T.style.display="none"):(_.style.display="block",T.style.display="block"),_.addEventListener("click",(e=>{e.preventDefault(),I<M-1&&(I++,d())})),T.addEventListener("click",(e=>{e.preventDefault(),I>0&&(I--,d())}));let C=0,W=0,X=!1;const B=50;function u(){if(!X)return;const e=W-C;X=!1,C=0,W=0,A.style.transition="transform 0.3s ease",Math.abs(e)>B&&(I=e<0?Math.min(I+1,M-1):Math.max(I-1,0)),d()}let z;A.addEventListener("touchstart",(function(e){X=!0,C=e.touches?e.touches[0].clientX:e.clientX,W=C,A.style.transition="none"}),{passive:!0}),A.addEventListener("touchmove",(function(e){X&&(W=e.touches?e.touches[0].clientX:e.clientX,e.preventDefault())}),{passive:!0}),A.addEventListener("touchend",u),A.addEventListener("touchcancel",u),window.addEventListener("resize",(()=>{clearTimeout(z),z=setTimeout((()=>d()),250)})),x.innerHTML="",w.forEach(((e,t)=>{const n=document.createElement("button");n.classList.add("slide_button"),t===I&&n.classList.add("active"),n.addEventListener("click",(()=>{I=t,d()})),x.appendChild(n)})),x.style.display=w.length>1?"flex":"none",d()}}));
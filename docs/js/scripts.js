document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector(".animate")){const m=document.querySelectorAll(".animate"),v=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const t=e.target.dataset.delay||0;setTimeout((()=>{e.target.classList.add("show")}),t),v.unobserve(e.target)}}))}),{threshold:.5});m.forEach((e=>{if(e.getBoundingClientRect().top<window.innerHeight){const t=e.dataset.delay||0;setTimeout((()=>{e.classList.add("show")}),t)}else v.observe(e)}))}if(document.querySelector(".stats")){const h=document.querySelectorAll(".counter"),p=100,E=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target,o=()=>{const e=+n.getAttribute("data-target"),t=+n.innerText.replace(/\D/g,""),c=Math.ceil(e/p);t<e?(n.innerText=t+c>e?e:t+c,setTimeout(o,50)):n.innerText=e};o(),t.unobserve(n)}}))}),{threshold:.5});h.forEach((e=>{E.observe(e)}))}const e=document.querySelector(".dark-bgc");if(document.querySelector(".burger")){const g=document.querySelector(".burger"),L=document.querySelector(".nav"),b=document.querySelector(".cancel"),S=L.querySelectorAll("a");function t(){L.style.right="-100%",e.style.zIndex="6",e.style.display="none"}g.addEventListener("click",(function(){L.style.right="-10px",e.style.display="block",e.style.zIndex="4"})),S.forEach((e=>{e.addEventListener("click",t)})),b.addEventListener("click",(function(e){e.preventDefault(),t()})),e.addEventListener("click",t)}if(document.querySelector("video")){const q=document.querySelectorAll("video");setTimeout((()=>{q.forEach((e=>{e.style.opacity="1",e.play().catch((e=>console.log("Autoplay blocked:",e)))}))}),1e3)}const n=document.querySelectorAll(".switch_btn"),o=document.querySelectorAll(".switch_block"),c=document.querySelectorAll(".connect_cta"),l=document.querySelector(".popup"),r=document.querySelector(".cancel_popup");if(c.forEach((t=>{t.addEventListener("click",(()=>{l.style.display="block",e.style.display="block"}))})),r.addEventListener("click",(()=>{l.style.display="none",e.style.display="none"})),e.addEventListener("click",(()=>{l.style.display="none",e.style.display="none"})),n.forEach((e=>{e.addEventListener("click",(()=>{n.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),o.forEach((e=>e.classList.remove("active")));const t=e.dataset.target;document.getElementById(t).classList.add("active")}))})),document.querySelector("#show-more-btn")){let k=6,A=0;const w=Array.from(document.querySelectorAll(".news_cards figure.page_news"));w.forEach(((e,t)=>{t>=k&&(e.style.display="none")})),A=k,document.querySelector("#show-more-btn").addEventListener("click",(function(e){e.preventDefault(),w.slice(A,A+k).forEach((e=>{e.style.display="block"})),A+=k,A>=w.length&&(document.querySelector("#show-more-btn").style.display="none")}))}const s=document.querySelectorAll(".phoneInput"),i=document.querySelectorAll(".error-tel");function a(e){return/^\+?(\d{2})?([(]?\d{3}[)]?)\s?[-]?\s?(?:\d{3})\s?[-]?(?:\s?\d{2})\s?[-]?(?:\s?\d{2})$/.test(e)}s.forEach((e=>{e.addEventListener("input",(function(){let t=e.value.trim();const n="+380";t.startsWith(n)||(t=n+t);let o=t.replace(/[^\d+]/g,"");o.length>13&&(o=o.slice(0,13));a(o)&&13===o.length?(e.style.borderColor="green",e.style.color="#121212",i.forEach((e=>{e.innerText=""}))):(e.style.borderColor="#B80101",e.style.color="#B80101",i.forEach((e=>{e.innerText="Введіть коректний номер телефону"})))}))})),document.querySelectorAll("form[action='sendorder.php'], form[action='senddata.php'], form[action='sendcontact.php']").forEach((e=>{e.addEventListener("submit",(t=>{(function(e){const t=e.querySelector("input[name='userPhone']").value.trim();if(!t||!a(t)||t.length<13)return i.forEach((e=>{e.innerText="невірний формат"})),!1;const n=e.querySelectorAll("input[name='userName']");for(const e of n){const t=e.value.trim();if(t.length<3)return!1;if(t.length>30)return!1}return!0})(e)||(t.preventDefault(),console.log("+"))}))}));document.querySelectorAll(".inputMask").forEach((function(e){e.addEventListener("click",(function(){e.value||(e.value="+380")})),e.addEventListener("input",(function(){let t=e.value.replace(/[^\d+]/g,"");e.value=t,t.length>13&&(e.value=t.slice(0,13)),t.startsWith("+380")||(e.value="+380"+t.slice(3))}))}));if(function(e,t,n){e.forEach((e=>{e.addEventListener("click",(function(o){o.preventDefault();e.nextElementSibling.classList.toggle(t),e.classList.toggle(n)}))}))}(document.querySelectorAll(".readmore"),"visible","readmore-active"),document.querySelector(".slider_block_main .slider")){const _=document.querySelector(".slide_group"),x=document.querySelectorAll(".slide_main"),T=document.querySelector(".slide_buttons"),D=document.querySelector(".next"),I=document.querySelector(".prev"),C=document.querySelector(".slider_container");let M=0;const W=x.length;function d(){_.style.transform=`translateX(-${C.offsetWidth*M}px)`,T.querySelectorAll(".slide_button").forEach(((e,t)=>{e.classList.toggle("active",t===M)})),function(){const e=x[M].querySelector("img");if(!e)return;function t(e){e.naturalWidth,e.naturalHeight}C.offsetWidth,e.complete?t(e):e.addEventListener("load",(()=>t(e)))}(),0===M?(I.classList.add("disabled"),I.disabled=!0):(I.classList.remove("disabled"),I.disabled=!1),M===W-1?(D.classList.add("disabled"),D.disabled=!0):(D.classList.remove("disabled"),D.disabled=!1)}x.length<=1?(D.style.display="none",I.style.display="none"):(D.style.display="block",I.style.display="block"),D.addEventListener("click",(e=>{e.preventDefault(),M<W-1&&(M++,d())})),I.addEventListener("click",(e=>{e.preventDefault(),M>0&&(M--,d())}));let X=0,B=0,z=!1;const H=50;function u(e){z=!0,X=e.touches?e.touches[0].clientX:e.clientX,B=X,_.style.transition="none"}function y(e){z&&(B=e.touches?e.touches[0].clientX:e.clientX)}function f(){if(!z)return;z=!1;const e=B-X;_.style.transition="transform 0.3s ease",Math.abs(e)>H&&(e<0?M<W-1&&M++:M>0&&M--),d()}let O;_.addEventListener("touchstart",u,{passive:!0}),_.addEventListener("touchmove",y,{passive:!0}),_.addEventListener("touchend",f),_.addEventListener("pointerdown",u),_.addEventListener("pointermove",y),_.addEventListener("pointerup",f),_.addEventListener("pointerleave",f),window.addEventListener("resize",(()=>{clearTimeout(O),O=setTimeout((()=>d()),250)})),T.innerHTML="",x.forEach(((e,t)=>{const n=document.createElement("button");n.classList.add("slide_button"),t===M&&n.classList.add("active"),n.addEventListener("click",(()=>{M=t,d()})),T.appendChild(n)})),T.style.display=x.length>1?"flex":"none",d()}}));
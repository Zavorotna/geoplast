document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector(".animate")){const v=document.querySelectorAll(".animate");let h=!1;const p=new IntersectionObserver(((e,t)=>{h||(window.requestAnimationFrame((()=>{e.forEach((e=>{if(e.isIntersecting){const n=parseInt(e.target.dataset.delay)||0;setTimeout((()=>{e.target.classList.add("show")}),n),t.unobserve(e.target)}})),h=!1})),h=!0)}),{threshold:.3});v.forEach((e=>p.observe(e)))}if(document.querySelector(".stats")){const E=document.querySelectorAll(".counter"),b=100,g=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target,o=()=>{const e=+n.getAttribute("data-target"),t=+n.innerText.replace(/\D/g,""),l=Math.ceil(e/b);t<e?(n.innerText=t+l>e?e:t+l,setTimeout(o,50)):n.innerText=e};o(),t.unobserve(n)}}))}),{threshold:.5});E.forEach((e=>{g.observe(e)}))}const e=document.querySelector(".dark-bgc");if(document.querySelector(".burger")){const L=document.querySelector(".burger"),q=document.querySelector(".nav"),S=document.querySelector(".cancel"),k=q.querySelectorAll("a");function t(){q.style.right="-100%",e.style.zIndex="6",e.style.display="none"}L.addEventListener("click",(function(){q.style.right="-10px",e.style.display="block",e.style.zIndex="4"})),k.forEach((e=>{e.addEventListener("click",t)})),S.addEventListener("click",(function(e){e.preventDefault(),t()})),e.addEventListener("click",t)}if(document.querySelector("video")){const w=document.querySelectorAll("video");setTimeout((()=>{w.forEach((e=>{e.style.opacity="1",e.play().catch((e=>console.log("Autoplay blocked:",e)))}))}),1e3)}const n=document.querySelectorAll(".switch_btn"),o=document.querySelectorAll(".switch_block"),l=document.querySelectorAll(".connect_cta"),r=document.querySelector(".popup"),c=document.querySelector(".cancel_popup");if(l.forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),document.querySelector("body").style.overflow="hidden",r.style.display="block",e.style.display="block"}))})),c.addEventListener("click",(t=>{t.preventDefault(),r.style.display="none",e.style.display="none",document.querySelector("body").style.overflow="visible"})),e.addEventListener("click",(()=>{r.style.display="none",document.querySelector("body").style.overflow="visible",e.style.display="none"})),n.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),n.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),o.forEach((e=>e.classList.remove("active")));const l=e.dataset.target;document.getElementById(l).classList.add("active")}))})),document.querySelector("#show-more-btn")){let A=6,_=0;const x=Array.from(document.querySelectorAll(".news_cards figure.page_news"));x.forEach(((e,t)=>{t>=A&&(e.style.display="none")})),_=A,document.querySelector("#show-more-btn").addEventListener("click",(function(e){e.preventDefault(),x.slice(_,_+A).forEach((e=>{e.style.display="block"})),_+=A,_>=x.length&&(document.querySelector("#show-more-btn").style.display="none")}))}const s=document.querySelectorAll(".phoneInput"),i=document.querySelectorAll(".error-tel");function a(e){return/^\+?(\d{2})?([(]?\d{3}[)]?)\s?[-]?\s?(?:\d{3})\s?[-]?(?:\s?\d{2})\s?[-]?(?:\s?\d{2})$/.test(e)}s.forEach((e=>{e.addEventListener("input",(function(){let t=e.value.trim();const n="+380";t.startsWith(n)||(t=n+t);let o=t.replace(/[^\d+]/g,"");o.length>13&&(o=o.slice(0,13));a(o)&&13===o.length?(e.style.borderColor="green",e.style.color="#121212",i.forEach((e=>{e.innerText=""}))):(e.style.borderColor="#B80101",e.style.color="#B80101",i.forEach((e=>{e.innerText="Введіть коректний номер телефону"})))}))})),document.querySelectorAll("form[action='sendorder.php'], form[action='senddata.php'], form[action='sendcontact.php']").forEach((e=>{e.addEventListener("submit",(t=>{(function(e){const t=e.querySelector("input[name='userPhone']").value.trim();if(!t||!a(t)||t.length<13)return i.forEach((e=>{e.innerText="невірний формат"})),!1;const n=e.querySelectorAll("input[name='userName']");for(const e of n){const t=e.value.trim();if(t.length<3)return!1;if(t.length>30)return!1}return!0})(e)||(t.preventDefault(),console.log("+"))}))}));document.querySelectorAll(".inputMask").forEach((function(e){e.addEventListener("click",(function(){e.value||(e.value="+380")})),e.addEventListener("input",(function(){let t=e.value.replace(/[^\d+]/g,"");e.value=t,t.length>13&&(e.value=t.slice(0,13)),t.startsWith("+380")||(e.value="+380"+t.slice(3))}))}));if(function(e,t,n){e.forEach((e=>{e.addEventListener("click",(function(o){o.preventDefault();e.nextElementSibling.classList.toggle(t),e.classList.toggle(n)}))}))}(document.querySelectorAll(".readmore"),"visible","readmore-active"),document.querySelector(".slider_block_main .slider")){const D=document.querySelector(".slide_group"),T=document.querySelectorAll(".slide_main"),I=document.querySelector(".slide_buttons"),W=document.querySelector(".next"),X=document.querySelector(".prev"),M=document.querySelector(".slider_container");let C=0;const z=T.length;function d(){D.style.transform=`translateX(-${M.offsetWidth*C}px)`,I.querySelectorAll(".slide_button").forEach(((e,t)=>{e.classList.toggle("active",t===C)})),function(){const e=T[C].querySelector("img");if(!e)return;function t(e){e.naturalWidth,e.naturalHeight}M.offsetWidth,e.complete?t(e):e.addEventListener("load",(()=>t(e)))}(),0===C?(X.classList.add("disabled"),X.disabled=!0):(X.classList.remove("disabled"),X.disabled=!1),C===z-1?(W.classList.add("disabled"),W.disabled=!0):(W.classList.remove("disabled"),W.disabled=!1)}T.length<=1?(W.style.display="none",X.style.display="none"):(W.style.display="block",X.style.display="block"),W.addEventListener("click",(e=>{e.preventDefault(),C<z-1&&(C++,d())})),X.addEventListener("click",(e=>{e.preventDefault(),C>0&&(C--,d())}));let B=0,H=0,O=!1,$=0;const F=50;function u(){if(!O)return;O=!1;const e=H-B;D.style.transition="transform 0.3s ease",Math.abs(e)>F&&(e<0&&C<z-1&&C++,e>0&&C>0&&C--),d(),B=0,H=0,$=0}let N;D.addEventListener("touchstart",(function(e){O=!0,B=e.touches?e.touches[0].clientX:e.clientX,$=-C*M.offsetWidth,D.style.transition="none"}),{passive:!0}),D.addEventListener("touchmove",(function(e){if(!O)return;H=e.touches?e.touches[0].clientX:e.clientX;const t=H-B;D.style.transform=`translateX(${$+t}px)`,e.preventDefault()}),{passive:!1}),D.addEventListener("touchend",u),D.addEventListener("touchcancel",u),window.addEventListener("resize",(()=>{clearTimeout(N),N=setTimeout((()=>d()),250)})),I.innerHTML="",T.forEach(((e,t)=>{const n=document.createElement("button");n.classList.add("slide_button"),t===C&&n.classList.add("active"),n.addEventListener("click",(()=>{C=t,d()})),I.appendChild(n)})),I.style.display=T.length>1?"flex":"none",d()}const y=document.querySelector(".fixed_header"),f=document.querySelector(".main_section");if(!y||!f||!document.body.classList.contains("home"))return;const m=f.offsetHeight;window.addEventListener("scroll",(()=>{window.scrollY>m?y.classList.add("header_filled"):y.classList.remove("header_filled")}))}));
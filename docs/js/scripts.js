document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector(".animate")){const h=document.querySelectorAll(".animate"),v=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const t=e.target.dataset.delay||0;setTimeout((()=>{e.target.classList.add("show")}),t),v.unobserve(e.target)}}))}),{threshold:.5});h.forEach((e=>{if(e.getBoundingClientRect().top<window.innerHeight){const t=e.dataset.delay||0;setTimeout((()=>{e.classList.add("show")}),t)}else v.observe(e)}))}if(document.querySelector(".stats")){const p=document.querySelectorAll(".counter"),E=100,g=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target,o=()=>{const e=+n.getAttribute("data-target"),t=+n.innerText.replace(/\D/g,""),c=Math.ceil(e/E);t<e?(n.innerText=t+c>e?e:t+c,setTimeout(o,50)):n.innerText=e};o(),t.unobserve(n)}}))}),{threshold:.5});p.forEach((e=>{g.observe(e)}))}const e=document.querySelector(".dark-bgc");if(document.querySelector(".burger")){const L=document.querySelector(".burger"),b=document.querySelector(".nav"),S=document.querySelector(".cancel"),q=b.querySelectorAll("a");function t(){b.style.right="-100%",e.style.zIndex="6",e.style.display="none"}L.addEventListener("click",(function(){b.style.right="-10px",e.style.display="block",e.style.zIndex="4"})),q.forEach((e=>{e.addEventListener("click",t)})),S.addEventListener("click",(function(e){e.preventDefault(),t()})),e.addEventListener("click",t)}if(document.querySelector("video")){const k=document.querySelectorAll("video");setTimeout((()=>{k.forEach((e=>{e.style.opacity="1",e.play().catch((e=>console.log("Autoplay blocked:",e)))}))}),1e3)}const n=document.querySelectorAll(".switch_btn"),o=document.querySelectorAll(".switch_block"),c=document.querySelectorAll(".connect_cta"),l=document.querySelector(".popup"),r=document.querySelector(".cancel_popup");if(c.forEach((t=>{t.addEventListener("click",(()=>{l.style.display="block",e.style.display="block"}))})),r.addEventListener("click",(()=>{l.style.display="none",e.style.display="none"})),e.addEventListener("click",(()=>{l.style.display="none",e.style.display="none"})),n.forEach((e=>{e.addEventListener("click",(()=>{n.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),o.forEach((e=>e.classList.remove("active")));const t=e.dataset.target;document.getElementById(t).classList.add("active")}))})),document.querySelector("#show-more-btn")){let w=6,A=0;const _=Array.from(document.querySelectorAll(".news_cards figure.page_news"));_.forEach(((e,t)=>{t>=w&&(e.style.display="none")})),A=w,document.querySelector("#show-more-btn").addEventListener("click",(function(e){e.preventDefault(),_.slice(A,A+w).forEach((e=>{e.style.display="block"})),A+=w,A>=_.length&&(document.querySelector("#show-more-btn").style.display="none")}))}const s=document.querySelectorAll(".phoneInput"),i=document.querySelectorAll(".error-tel");function a(e){return/^\+?(\d{2})?([(]?\d{3}[)]?)\s?[-]?\s?(?:\d{3})\s?[-]?(?:\s?\d{2})\s?[-]?(?:\s?\d{2})$/.test(e)}s.forEach((e=>{e.addEventListener("input",(function(){let t=e.value.trim();const n="+380";t.startsWith(n)||(t=n+t);let o=t.replace(/[^\d+]/g,"");o.length>13&&(o=o.slice(0,13));a(o)&&13===o.length?(e.style.borderColor="green",e.style.color="#121212",i.forEach((e=>{e.innerText=""}))):(e.style.borderColor="#B80101",e.style.color="#B80101",i.forEach((e=>{e.innerText="Введіть коректний номер телефону"})))}))})),document.querySelectorAll("form[action='sendorder.php'], form[action='senddata.php'], form[action='sendcontact.php']").forEach((e=>{e.addEventListener("submit",(t=>{(function(e){const t=e.querySelector("input[name='userPhone']").value.trim();if(!t||!a(t)||t.length<13)return i.forEach((e=>{e.innerText="невірний формат"})),!1;const n=e.querySelectorAll("input[name='userName']");for(const e of n){const t=e.value.trim();if(t.length<3)return!1;if(t.length>30)return!1}return!0})(e)||(t.preventDefault(),console.log("+"))}))}));document.querySelectorAll(".inputMask").forEach((function(e){e.addEventListener("click",(function(){e.value||(e.value="+380")})),e.addEventListener("input",(function(){let t=e.value.replace(/[^\d+]/g,"");e.value=t,t.length>13&&(e.value=t.slice(0,13)),t.startsWith("+380")||(e.value="+380"+t.slice(3))}))}));if(function(e,t,n){e.forEach((e=>{e.addEventListener("click",(function(o){o.preventDefault();e.nextElementSibling.classList.toggle(t),e.classList.toggle(n)}))}))}(document.querySelectorAll(".readmore"),"visible","readmore-active"),document.querySelector(".slider_block_main .slider")){const x=document.querySelector(".slide_group"),T=document.querySelectorAll(".slide_main"),D=document.querySelector(".slide_buttons"),I=document.querySelector(".next"),W=document.querySelector(".prev"),X=document.querySelector(".slider_container");let C=0;const M=T.length;function d(){x.style.transform=`translateX(-${X.offsetWidth*C}px)`,D.querySelectorAll(".slide_button").forEach(((e,t)=>{e.classList.toggle("active",t===C)})),function(){const e=T[C].querySelector("img");if(!e)return;function t(e){e.naturalWidth,e.naturalHeight}X.offsetWidth,e.complete?t(e):e.addEventListener("load",(()=>t(e)))}(),0===C?(W.classList.add("disabled"),W.disabled=!0):(W.classList.remove("disabled"),W.disabled=!1),C===M-1?(I.classList.add("disabled"),I.disabled=!0):(I.classList.remove("disabled"),I.disabled=!1)}T.length<=1?(I.style.display="none",W.style.display="none"):(I.style.display="block",W.style.display="block"),I.addEventListener("click",(e=>{e.preventDefault(),C<M-1&&(C++,d())})),W.addEventListener("click",(e=>{e.preventDefault(),C>0&&(C--,d())}));let B=0,H=0,z=!1,O=0;const $=50;function u(){if(!z)return;z=!1;const e=H-B;x.style.transition="transform 0.3s ease",Math.abs(e)>$&&(e<0&&C<M-1&&C++,e>0&&C>0&&C--),d(),B=0,H=0,O=0}let N;x.addEventListener("touchstart",(function(e){z=!0,B=e.touches?e.touches[0].clientX:e.clientX,O=-C*X.offsetWidth,x.style.transition="none"}),{passive:!0}),x.addEventListener("touchmove",(function(e){if(!z)return;H=e.touches?e.touches[0].clientX:e.clientX;const t=H-B;x.style.transform=`translateX(${O+t}px)`,e.preventDefault()}),{passive:!1}),x.addEventListener("touchend",u),x.addEventListener("touchcancel",u),window.addEventListener("resize",(()=>{clearTimeout(N),N=setTimeout((()=>d()),250)})),D.innerHTML="",T.forEach(((e,t)=>{const n=document.createElement("button");n.classList.add("slide_button"),t===C&&n.classList.add("active"),n.addEventListener("click",(()=>{C=t,d()})),D.appendChild(n)})),D.style.display=T.length>1?"flex":"none",d()}const y=document.querySelector(".fixed_header"),f=document.querySelector(".main_section");if(!y||!f||!document.body.classList.contains("home"))return;const m=f.offsetHeight;window.addEventListener("scroll",(()=>{window.scrollY>m?y.classList.add("header_filled"):y.classList.remove("header_filled")}))}));